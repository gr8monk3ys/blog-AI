# =============================================================================
# Blog AI Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
#
# Configuration is validated at startup. The application will fail fast
# if critical configuration is missing or invalid.
#
# Variables marked [REQUIRED] must be set for the application to start.
# Variables marked [RECOMMENDED] are important for production deployments.
# Variables marked [OPTIONAL] enable additional features when configured.

# =============================================================================
# LLM Provider API Keys
# =============================================================================
# At least ONE of these API keys is [REQUIRED] for content generation

# [REQUIRED*] OpenAI API key for GPT models (primary provider)
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# [OPTIONAL] Anthropic API key for Claude models (alternative provider)
# Get your key from: https://console.anthropic.com/
# ANTHROPIC_API_KEY=your_anthropic_api_key_here

# [OPTIONAL] Google Gemini API key (alternative provider)
# Get your key from: https://makersuite.google.com/app/apikey
# GEMINI_API_KEY=your_gemini_api_key_here

# =============================================================================
# Model Configuration
# =============================================================================
# Override default models for each provider

# [OPTIONAL] OpenAI model to use (default: gpt-4)
# Options: gpt-4, gpt-4-turbo, gpt-4o, gpt-3.5-turbo
# OPENAI_MODEL=gpt-4

# [OPTIONAL] Anthropic model to use (default: claude-3-opus-20240229)
# Options: claude-3-opus-20240229, claude-3-sonnet-20240229, claude-3-haiku-20240307
# ANTHROPIC_MODEL=claude-3-opus-20240229

# [OPTIONAL] Gemini model to use (default: gemini-1.5-flash-latest)
# Options: gemini-1.5-pro, gemini-1.5-flash, gemini-1.5-flash-latest
# GEMINI_MODEL=gemini-1.5-flash-latest

# [OPTIONAL] LLM API request timeout in seconds (default: 60)
# Prevents hanging requests if API is unresponsive
# Increase for longer generation requests, decrease for faster failure
LLM_API_TIMEOUT=60

# =============================================================================
# LLM Rate Limiting
# =============================================================================
# Prevent excessive API calls and manage costs

# [OPTIONAL] Enable rate limiting for LLM API calls (default: true)
LLM_RATE_LIMIT_ENABLED=true

# [OPTIONAL] Maximum LLM API calls per minute (default: 60)
LLM_RATE_LIMIT_PER_MINUTE=60

# [OPTIONAL] Maximum requests to queue when rate limited (default: 100)
LLM_RATE_LIMIT_MAX_QUEUE=100

# [OPTIONAL] Maximum seconds to wait for rate limit (default: 60.0)
LLM_RATE_LIMIT_MAX_WAIT=60.0

# =============================================================================
# Server Configuration
# =============================================================================

# [RECOMMENDED] Environment name affects security defaults
# Options: development, staging, production
# HSTS is auto-enabled in production
ENVIRONMENT=development

# [OPTIONAL] Enable development mode (default: false)
# SECURITY: When true, API key authentication may be bypassed
# NEVER set to true in production
DEV_MODE=false

# [OPTIONAL] Server port for backend API (default: 8000)
# Only used in Docker/production deployments
# BACKEND_PORT=8000

# [OPTIONAL] Uvicorn worker count (default: 1)
# Recommended for production: 2 * CPU cores + 1
# UVICORN_WORKERS=4

# [OPTIONAL] Max concurrent section generation workers for book chapters (default: 4)
BOOK_SECTION_WORKERS=4

# [OPTIONAL] Research cache TTL in seconds (default: 3600)
RESEARCH_CACHE_TTL_SECONDS=3600

# [OPTIONAL] Research cache max entries (default: 128)
RESEARCH_CACHE_MAX_ENTRIES=128

# =============================================================================
# CORS Configuration
# =============================================================================

# [RECOMMENDED] Comma-separated list of allowed CORS origins
# In production, use specific domains (e.g., https://yourdomain.com)
# SECURITY: Never use wildcards (*) in production
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# Rate Limiting (API Endpoints)
# =============================================================================

# [OPTIONAL] Enable rate limiting middleware (default: true)
RATE_LIMIT_ENABLED=true

# [OPTIONAL] General endpoints: requests per minute per IP (default: 60)
RATE_LIMIT_GENERAL=60

# [OPTIONAL] Generation endpoints: requests per minute per IP (default: 10)
# Lower limit for expensive LLM API calls
RATE_LIMIT_GENERATION=10

# =============================================================================
# Security Configuration
# =============================================================================

# [OPTIONAL] Enable HTTPS redirect middleware (default: false)
# SECURITY: Only enable when HTTPS is properly configured with valid certificates
HTTPS_REDIRECT_ENABLED=false

# [OPTIONAL] Enable security middleware stack (default: true)
# Includes headers, request validation, request ID
# Only disable for testing purposes
SECURITY_ENABLED=true

# [OPTIONAL] Enable HSTS header (auto-enabled in production)
# SECURITY_HSTS_ENABLED=true

# [OPTIONAL] HSTS max-age in seconds (default: 31536000 = 1 year)
# SECURITY_HSTS_MAX_AGE=31536000

# [OPTIONAL] Maximum request body size in bytes (default: 10MB = 10485760)
# Prevents denial-of-service via large payloads
SECURITY_MAX_BODY_SIZE=10485760

# [OPTIONAL] Trust incoming X-Request-ID headers from clients/proxies
# SECURITY: Only enable behind trusted reverse proxies
SECURITY_TRUST_REQUEST_ID=false

# [OPTIONAL] Request ID prefix for tracing
SECURITY_REQUEST_ID_PREFIX=blog-ai

# [OPTIONAL] Custom Content-Security-Policy
# If not set, uses a restrictive default policy
# SECURITY_CSP_POLICY=default-src 'self'; script-src 'self'

# =============================================================================
# Database (Neon / Postgres)
# =============================================================================
# [RECOMMENDED] Required for persistent storage (quotas, analytics, etc.).
#
# For Neon, copy the connection string from the Neon console.
# - Use DATABASE_URL in serverless (Vercel / Next.js route handlers).
# - Prefer DATABASE_URL_DIRECT for long-lived backends (Railway) and migrations.
DATABASE_URL=
# DATABASE_URL_DIRECT=
#
# Optional pool sizing for the Python backend (asyncpg pool).
# DATABASE_POOL_MIN_SIZE=1
# DATABASE_POOL_MAX_SIZE=5

# =============================================================================
# Clerk Authentication (Backend JWT Verification)
# =============================================================================
# The frontend authenticates users with Clerk and sends:
#   Authorization: Bearer <jwt>
#
# Configure the backend to verify Clerk JWTs via JWKS.
#
# You can find these values in the Clerk Dashboard:
# - JWT Key / JWKS URL
# - Issuer
#
# [RECOMMENDED] Clerk JWKS URL (public)
# Example:
#   https://<your-frontend-api>.clerk.accounts.dev/.well-known/jwks.json
# CLERK_JWKS_URL=
#
# [RECOMMENDED] Expected JWT issuer (iss)
# Example (custom domain):
#   https://clerk.yourdomain.com
# CLERK_JWT_ISSUER=
#
# [OPTIONAL] Expected audience (aud). Many Clerk tokens omit aud; leave unset
# unless you have explicitly configured it.
# CLERK_JWT_AUDIENCE=

# =============================================================================
# Payment Processing (Stripe)
# =============================================================================
# [OPTIONAL] Required for subscription billing features
# Get your keys from: https://dashboard.stripe.com/apikeys

# [OPTIONAL] Stripe secret API key
# SECURITY: Never expose this in client-side code
STRIPE_SECRET_KEY=

# [OPTIONAL] Stripe webhook signing secret
# Get from: https://dashboard.stripe.com/webhooks
# Required for secure webhook verification
STRIPE_WEBHOOK_SECRET=

# [OPTIONAL] Stripe Price IDs for subscription tiers
# Create these in the Stripe Dashboard under Products > Prices
# These should be recurring prices (subscriptions), not one-time
#
# Preferred (supports monthly + yearly):
STRIPE_PRICE_ID_STARTER_MONTHLY=
STRIPE_PRICE_ID_STARTER_YEARLY=
STRIPE_PRICE_ID_PRO_MONTHLY=
STRIPE_PRICE_ID_PRO_YEARLY=
STRIPE_PRICE_ID_BUSINESS_MONTHLY=
STRIPE_PRICE_ID_BUSINESS_YEARLY=
#
# Legacy fallback (treated as MONTHLY if *_MONTHLY is not set):
# STRIPE_PRICE_ID_STARTER=
# STRIPE_PRICE_ID_PRO=
# STRIPE_PRICE_ID_BUSINESS=

# [OPTIONAL] Do NOT sell the Business/Agency tier by default (team features not implemented yet).
# Set true only when seats/invites/shared assets are ready.
ENABLE_BUSINESS_TIER=false

# =============================================================================
# Legacy Feature Flags (Supabase-era modules)
# =============================================================================
# These modules are still present but are disabled by default for a Neon-only SaaS
# until migrated.
ENABLE_KNOWLEDGE_BASE=false
ENABLE_PERFORMANCE_ANALYTICS=false
ENABLE_CONTENT_VERSIONING=false

# =============================================================================
# Redis (Optional Caching/Queuing)
# =============================================================================
# [OPTIONAL] Redis connection URL for caching and job queues
# Format: redis://[[username:]password@]host[:port][/database]
# REDIS_URL=redis://localhost:6379/0

# =============================================================================
# Webhooks Configuration
# =============================================================================
# [OPTIONAL] Enable Zapier-compatible webhooks for workflow automation

# [OPTIONAL] Global webhook signing secret (HMAC-SHA256)
# Used to sign webhook payloads for security verification
# Generate with: openssl rand -hex 32
# If not set, webhooks will not be signed (subscribers can set their own secrets)
# WEBHOOK_SECRET=your_webhook_secret_here

# [OPTIONAL] Webhook delivery timeout in seconds (default: 30)
# WEBHOOK_TIMEOUT_SECONDS=30

# [OPTIONAL] Maximum retry attempts for failed webhooks (default: 5)
# WEBHOOK_MAX_RETRIES=5

# =============================================================================
# Research APIs
# =============================================================================
# [OPTIONAL] Enable web research features for content generation

# SERP API for Google search results
# Get your key from: https://serpapi.com/
# SERP_API_KEY=your_serp_api_key_here

# Tavily API for web research
# Get your key from: https://tavily.com/
# TAVILY_API_KEY=your_tavily_api_key_here

# Metaphor API for neural search
# Get your key from: https://metaphor.systems/
# METAPHOR_API_KEY=your_metaphor_api_key_here

# SEC API for financial filings research
# Get your key from: https://sec-api.io/
# SEC_API_API_KEY=your_sec_api_key_here

# =============================================================================
# Performance Analytics
# =============================================================================
# [OPTIONAL] Enable content performance tracking
# Tracks views, engagement, shares, and conversions for generated content

# [OPTIONAL] Enable performance tracking features (default: true)
# PERFORMANCE_TRACKING_ENABLED=true

# [OPTIONAL] Base URL for tracking pixels and beacons
# Used in email tracking pixels and JavaScript snippets
# Defaults to API_BASE_URL if not set
# TRACKING_BASE_URL=https://api.yourdomain.com

# [OPTIONAL] Secret key for signing tracking tokens
# Used to verify tracking pixel and webhook authenticity
# Generate with: openssl rand -hex 32
# Falls back to WEBHOOK_SECRET if not set
# TRACKING_SECRET_KEY=your_tracking_secret_here

# [OPTIONAL] Days to retain performance events (default: 90)
# Older events are automatically cleaned up
# PERFORMANCE_EVENT_RETENTION_DAYS=90

# =============================================================================
# Plagiarism Detection APIs
# =============================================================================
# [OPTIONAL] Enable plagiarism checking features for content quality assurance
# At least one provider recommended for production content generation

# Copyscape Premium API (primary plagiarism detection)
# Get your credentials from: https://www.copyscape.com/apiconfigure.php
# Cost: ~$0.03 per search (100 words minimum)
# COPYSCAPE_USERNAME=your_copyscape_username
# COPYSCAPE_API_KEY=your_copyscape_api_key

# Originality.ai API (alternative provider with AI detection)
# Get your key from: https://originality.ai/
# Cost: Credits-based, typically $0.01 per 100 words
# ORIGINALITY_API_KEY=your_originality_api_key

# [OPTIONAL] Plagiarism API timeout in seconds (default: 30)
# Increase for longer content checks
# PLAGIARISM_API_TIMEOUT=30

# =============================================================================
# Image Generation
# =============================================================================

# [OPTIONAL] Provider for image generation (default: openai)
# Options: openai (uses DALL-E 3), stability (uses Stable Diffusion XL)
IMAGE_PROVIDER=openai

# [OPTIONAL] Stability AI API key (required if using stability provider)
# Get your key from: https://platform.stability.ai/
# STABILITY_API_KEY=your_stability_api_key_here

# =============================================================================
# Logging Configuration
# =============================================================================

# [OPTIONAL] Log level (default: INFO)
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# [OPTIONAL] Force JSON log format in development (default: false)
# JSON format is always used in production (ENVIRONMENT=production)
LOG_FORMAT_JSON=false

# [OPTIONAL] Enable request logging middleware (default: true)
# Logs HTTP requests with timing, status codes, and request IDs
REQUEST_LOGGING_ENABLED=true

# =============================================================================
# Error Tracking (Sentry)
# =============================================================================
# [RECOMMENDED] Error tracking for production deployments
# Get your DSN from: https://sentry.io

# [OPTIONAL] Sentry DSN (leave empty to disable)
SENTRY_DSN=

# [OPTIONAL] Sentry environment name (default: development)
SENTRY_ENVIRONMENT=development

# [OPTIONAL] Transaction/trace sampling rate (0.0 to 1.0, default: 0.1)
# 0.1 = 10% of transactions are sampled for performance monitoring
# Set higher in development, lower in production to control costs
SENTRY_TRACES_SAMPLE_RATE=0.1

# [OPTIONAL] Profile sampling rate (0.0 to 1.0, default: 0.1)
# Profiles are sampled from traced transactions
SENTRY_PROFILES_SAMPLE_RATE=0.1

# [OPTIONAL] Release version for tracking deployments
SENTRY_RELEASE=blog-ai@1.0.0

# [OPTIONAL] Server name for identifying instances
SERVER_NAME=blog-ai-api

# =============================================================================
# Local Storage
# =============================================================================

# [OPTIONAL] Directory for conversation persistence
CONVERSATION_STORAGE_DIR=./data/conversations

# [OPTIONAL] Path for API key storage
# SECURITY: Ensure this file has restricted permissions (chmod 600)
API_KEY_STORAGE_PATH=./data/api_keys.json

# [OPTIONAL] Directory for usage tracking data
USAGE_STORAGE_DIR=./data/usage

# =============================================================================
# Knowledge Base / RAG System
# =============================================================================
# [OPTIONAL] Enable the Knowledge Base feature for Retrieval Augmented Generation
# Allows users to upload documents and reference them during content generation

# -----------------------------------------------------------------------------
# Vector Store Configuration (choose one)
# -----------------------------------------------------------------------------

# [OPTIONAL] Vector store provider (default: chromadb)
# Options: chromadb (local/development), pinecone (production)
# KB_VECTOR_STORE=chromadb

# Pinecone Configuration (for production)
# Get your credentials from: https://www.pinecone.io/
# PINECONE_API_KEY=your_pinecone_api_key
# PINECONE_ENVIRONMENT=us-east-1
# PINECONE_INDEX_NAME=knowledge-base

# ChromaDB Configuration (for local development)
# Local persistence directory for ChromaDB
# CHROMA_PERSIST_PATH=./data/chroma

# -----------------------------------------------------------------------------
# Embedding Configuration
# -----------------------------------------------------------------------------

# [OPTIONAL] Embedding provider (default: openai)
# Options: openai, voyage, cohere
# KB_EMBEDDING_PROVIDER=openai

# [OPTIONAL] Embedding model (defaults based on provider)
# OpenAI: text-embedding-3-small, text-embedding-3-large
# Voyage: voyage-large-2, voyage-code-2
# Cohere: embed-english-v3.0, embed-multilingual-v3.0
# KB_EMBEDDING_MODEL=text-embedding-3-small

# Voyage AI API key (alternative embedding provider - more cost effective)
# Get your key from: https://www.voyageai.com/
# VOYAGE_API_KEY=your_voyage_api_key

# Cohere API key (alternative embedding provider)
# Get your key from: https://cohere.com/
# COHERE_API_KEY=your_cohere_api_key

# -----------------------------------------------------------------------------
# Chunking Configuration
# -----------------------------------------------------------------------------

# [OPTIONAL] Target chunk size in tokens (default: 512)
# Smaller chunks = more precise retrieval but more API calls
# Larger chunks = less precise but fewer API calls
# KB_CHUNK_SIZE=512

# [OPTIONAL] Overlap between chunks in tokens (default: 50)
# Higher overlap = better context continuity but more storage
# KB_CHUNK_OVERLAP=50

# =============================================================================
# Enterprise SSO Configuration
# =============================================================================
# [OPTIONAL] Enable SSO for enterprise customers
# Supports SAML 2.0 and OpenID Connect (OIDC) protocols
#
# SECURITY: SSO configuration requires careful setup. Ensure:
#   - HTTPS is enabled in production
#   - Certificates are properly secured
#   - Sessions have appropriate timeouts
#
# Documentation: See /docs/sso-setup.md for detailed configuration guide

# -----------------------------------------------------------------------------
# General SSO Settings
# -----------------------------------------------------------------------------

# [OPTIONAL] Enable SSO functionality globally (default: false)
# When false, all SSO endpoints return 404
SSO_ENABLED=false

# [OPTIONAL] Base URL for SSO callbacks (auto-detected if not set)
# Must be HTTPS in production
# Example: https://api.yourdomain.com
# APP_BASE_URL=https://api.example.com

# [OPTIONAL] SSO session timeout in hours (default: 8)
SSO_SESSION_TIMEOUT_HOURS=8

# [OPTIONAL] SSO auth flow timeout in minutes (default: 10)
# Time allowed to complete SSO authentication
SSO_AUTH_TIMEOUT_MINUTES=10

# -----------------------------------------------------------------------------
# SAML 2.0 Configuration (Service Provider)
# -----------------------------------------------------------------------------
# These settings define this application as a SAML Service Provider (SP)

# [OPTIONAL] SP Entity ID (unique identifier for this application)
# If not set, defaults to: {APP_BASE_URL}/sso/saml/{organization_id}
# SAML_SP_ENTITY_ID=https://api.example.com/sso/saml

# [OPTIONAL] SP Assertion Consumer Service (ACS) URL
# If not set, defaults to: {APP_BASE_URL}/sso/saml/acs/{organization_id}
# SAML_SP_ACS_URL=https://api.example.com/sso/saml/acs

# [OPTIONAL] SP Single Logout (SLO) URL
# If not set, defaults to: {APP_BASE_URL}/sso/saml/slo/{organization_id}
# SAML_SP_SLO_URL=https://api.example.com/sso/saml/slo

# [OPTIONAL] Path to SP X.509 certificate file (PEM format)
# Required for signed AuthnRequests
# Generate with: openssl req -x509 -newkey rsa:2048 -keyout sp-key.pem -out sp-cert.pem -days 3650 -nodes
# SAML_SP_CERT_PATH=/path/to/sp-cert.pem

# [OPTIONAL] Path to SP private key file (PEM format)
# Required for signed AuthnRequests
# SECURITY: Restrict file permissions (chmod 600)
# SAML_SP_KEY_PATH=/path/to/sp-key.pem

# [OPTIONAL] SP certificate as inline string (alternative to file path)
# Useful for containerized deployments
# SAML_SP_CERT=-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----

# [OPTIONAL] SP private key as inline string (alternative to file path)
# SECURITY: Use secrets management in production
# SAML_SP_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----

# [OPTIONAL] SAML signature algorithm (default: http://www.w3.org/2001/04/xmldsig-more#rsa-sha256)
# Options: rsa-sha256, rsa-sha384, rsa-sha512
# SAML_SIGNATURE_ALGORITHM=http://www.w3.org/2001/04/xmldsig-more#rsa-sha256

# [OPTIONAL] SAML digest algorithm (default: http://www.w3.org/2001/04/xmlenc#sha256)
# SAML_DIGEST_ALGORITHM=http://www.w3.org/2001/04/xmlenc#sha256

# [OPTIONAL] Allow clock skew in seconds for SAML assertion validation (default: 120)
# Accounts for time differences between SP and IdP
# SAML_CLOCK_SKEW_SECONDS=120

# [OPTIONAL] Enable SAML debug mode (default: false)
# SECURITY: NEVER enable in production - logs sensitive assertion data
# SAML_DEBUG_MODE=false

# -----------------------------------------------------------------------------
# OIDC Configuration (Relying Party)
# -----------------------------------------------------------------------------
# Per-organization OIDC settings are configured via the admin API
# These are global defaults and fallbacks

# [OPTIONAL] Default OIDC scopes to request (default: openid email profile)
# OIDC_DEFAULT_SCOPES=openid email profile

# [OPTIONAL] Allow clock skew in seconds for OIDC token validation (default: 120)
# OIDC_CLOCK_SKEW_SECONDS=120

# [OPTIONAL] OIDC JWKS cache duration in minutes (default: 60)
# OIDC_JWKS_CACHE_MINUTES=60

# [OPTIONAL] Use PKCE for OIDC authorization code flow (default: true)
# SECURITY: Recommended to leave enabled for security
# OIDC_USE_PKCE=true

# -----------------------------------------------------------------------------
# SSO Session Storage
# -----------------------------------------------------------------------------
# Configure where SSO sessions are stored

# [OPTIONAL] SSO session storage backend (default: memory)
# Options: memory (development), redis (production), database
# SECURITY: Use redis or database in production for session persistence
# SSO_SESSION_STORE=memory

# [OPTIONAL] Redis URL for SSO session storage (required if SSO_SESSION_STORE=redis)
# Uses REDIS_URL if not set separately
# SSO_REDIS_URL=redis://localhost:6379/1

# =============================================================================
# Social Media Scheduling
# =============================================================================
# [OPTIONAL] Enable social media scheduling and auto-posting features
#
# Social media scheduling allows users to:
#   - Connect social media accounts (Twitter/X, LinkedIn)
#   - Schedule posts for future publishing
#   - Create multi-platform campaigns
#   - Get optimal posting time suggestions

# [OPTIONAL] Enable social media scheduling features (default: true)
SOCIAL_SCHEDULER_ENABLED=true

# -----------------------------------------------------------------------------
# Twitter/X API Credentials
# -----------------------------------------------------------------------------
# Twitter API v2 with OAuth 2.0 PKCE flow
# Create an app at: https://developer.twitter.com/en/portal/projects-and-apps

# [OPTIONAL] Twitter OAuth 2.0 Client ID
# Required for Twitter/X integration
# TWITTER_CLIENT_ID=your_twitter_client_id

# [OPTIONAL] Twitter OAuth 2.0 Client Secret
# TWITTER_CLIENT_SECRET=your_twitter_client_secret

# [OPTIONAL] Twitter API Key (for media upload via v1.1 API)
# Some features require OAuth 1.0a credentials
# TWITTER_API_KEY=your_twitter_api_key

# [OPTIONAL] Twitter API Secret
# TWITTER_API_SECRET=your_twitter_api_secret

# -----------------------------------------------------------------------------
# LinkedIn API Credentials
# -----------------------------------------------------------------------------
# LinkedIn Marketing API
# Create an app at: https://www.linkedin.com/developers/apps

# [OPTIONAL] LinkedIn Client ID
# Required for LinkedIn integration
# LINKEDIN_CLIENT_ID=your_linkedin_client_id

# [OPTIONAL] LinkedIn Client Secret
# LINKEDIN_CLIENT_SECRET=your_linkedin_client_secret

# -----------------------------------------------------------------------------
# Buffer API (Optional Fallback)
# -----------------------------------------------------------------------------
# Buffer provides a unified API for multiple platforms
# Use as fallback when direct integration is not available
# Get access token at: https://buffer.com/developers/apps

# [OPTIONAL] Buffer Access Token
# Enables posting via Buffer to any connected platform
# BUFFER_ACCESS_TOKEN=your_buffer_access_token

# -----------------------------------------------------------------------------
# Social Worker Configuration
# -----------------------------------------------------------------------------
# Background worker settings for scheduled post publishing

# [OPTIONAL] How often to poll for due posts in seconds (default: 30)
SOCIAL_WORKER_POLL_INTERVAL=30

# [OPTIONAL] Maximum posts to process per poll cycle (default: 10)
SOCIAL_WORKER_BATCH_SIZE=10

# [OPTIONAL] Maximum concurrent publishing tasks (default: 5)
SOCIAL_WORKER_MAX_CONCURRENT=5

# [OPTIONAL] Webhook URL for publishing events
# Receives POST requests when posts are published or fail
# SOCIAL_WEBHOOK_URL=https://your-webhook-endpoint.com/social

# =============================================================================
# Quick Start Configuration
# =============================================================================
#
# Minimal configuration to get started (development):
#   1. Copy this file to .env
#   2. Set OPENAI_API_KEY to your OpenAI API key
#   3. Run: python server.py
#
# Recommended production configuration:
#   1. Set ENVIRONMENT=production
#   2. Configure at least one LLM provider (OPENAI_API_KEY, etc.)
#   3. Configure DATABASE_URL (Neon/Postgres) for persistent storage
#   4. Configure Stripe for billing (if using subscriptions)
#   5. Configure Sentry for error tracking
#   6. Set ALLOWED_ORIGINS to your production domains
#   7. Enable HTTPS_REDIRECT_ENABLED=true
#
# Knowledge Base (RAG) configuration:
#   Development: ChromaDB is used by default (no additional config needed)
#   Production: Set PINECONE_API_KEY and PINECONE_INDEX_NAME
#
# Social Media Scheduling configuration:
#   1. Set SOCIAL_SCHEDULER_ENABLED=true
#   2. Configure Twitter credentials (TWITTER_CLIENT_ID, TWITTER_CLIENT_SECRET)
#   3. Configure LinkedIn credentials (LINKEDIN_CLIENT_ID, LINKEDIN_CLIENT_SECRET)
#   4. Run the worker: python -m src.social.worker
#
# =============================================================================
